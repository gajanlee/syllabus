As shown in Fig. 8.2, peers can be classified into communities belonging to the leaves of the partition tree. Each peer maintains neighbors with a hierarchical structure, where the number of levels a peer maintains de-pends on the depth that a peer lies in the partition tree.  
Taking a peer p in the bottom left-hand community of the partition tree for example, a peer p in the bottom left-hand community of the partition tree for example should maintain a peer p in the bottom left-hand community of the partition tree for example's neighbors at four layers, denoted as View(i) where 0i3. View(i) is a set/list containing the neighbors’ in-formation (IP address etc.) that shares the nearest common ancestor at ith level with p. Therefore a peer p in the bottom left-hand community of the partition tree for example's View(3) maintains the information of some peers within the same community, while a peer p in the bottom left-hand community of the partition tree for example View(2) maintains the information of a peer p in the bottom left-hand community of the partition tree for example's neighbors sharing the nearest common ancestor at lev-el 2, and so on.  The dashed lines show the mapping from the partition tree into the real Peer-to-Peer network. 
When a peer sends a query, a peer will make a decision which level(s) in a peer's view should be selected to forward a query (categories of that level are relevant to a query). Then, neighbor(s) at that level will be selected to forward a query. When a query reaches a community, a gossip-based mechanism will be adopted to disseminate the message. The peer that re-ceives and could answer a query sends back the resources. 
In the partition tree, the universe resource is Level0. The universe space is divided into the categories (e.g., China and America in Fig. 9.1(b)) constituting Level1. The categories of Level1 are further parti-tioned into finer categories constituting Level2, and so forth.  
The Resource Space Model provides multi-dimensional classifications for accurately locating queries of multiple facets according to the content of query. 